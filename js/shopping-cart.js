var dxdx={
	'单身贵族':{
		1:{
			'img':'http://cdn50.ehaier.com/other/php/image/2019/04/043006ee6cea01617941cbc73ad08e58.jpg@380_380',
			'jia':1199,
			'title':'Haier/海尔 冰箱 BCD-160TMPQ 160升双门冷藏冷冻小型家用节能两门冰箱'
		},
		2:{
			'img':'http://cdn02.ehaier.com/product/5ab1cd9d1671c4e5068b45cd_380_380.jpg',
			'jia':2999,
			'title':'Haier/海尔 无氟变频壁挂式空调 KFR-26GW/28GTM23AU1套机'
		},
		3:{
			'img':'http://cdn02.ehaier.com/product/5afaad2c983d79fe0b8b47f8_380_380.jpg',
			'jia':1799,
			'title':'Haier/海尔 LED电视 LE43Z81'
		},
		4:{
			'img':'http://cdn02.ehaier.com/product/5aead88d1671c4e84c8b45fd_380_380.jpg',
			'jia':899,
			'title':'Leader/统帅 电热水器 LEC5002-WB5金 50升储水式即热节能家用电热水器'
		},
		5:{
			'img':'http://cdn50.ehaier.com/other/php/image/2019/09/6fd202ecc0e0be1d855ca74ea93e6590.jpg@380_380',
			'jia':1799,
			'title':'Haier/海尔 烟灶套系 E800C6T+QE5B1/侧吸/4.1KW大火力/天然气'
		},
		6:{
			'title':'Haier/海尔 波轮洗衣机 EB75M29 7.5公斤智能波轮全自动洗衣机',
			'img':'http://cdn02.ehaier.com/product/59cc7594983d79603e8b46d2_380_380.jpg',
			'jia':999
		}
		
	},
	'二人世界':{
		1:{
			'title':'Haier/海尔 冰箱 BCD-258WDVLU1',
			'img':'http://cdn50.ehaier.com/other/php/image/2019/04/1a35adb30bbba21e8530664ed05bf0e1.jpg@380_380',
			'jia':2799
		},
		2:{
			'title':'Haier/海尔 无氟变频壁挂式空调 KFR-35GW/28GTM23AU1套机 1.5匹智能变频空调/内机自清洁/芳华系列',
			'img':'http://cdn02.ehaier.com/product/5ab1c52dd9a353a76b8b459b_380_380.jpg',
			'jia':3399
		},
		3:{
			'title':'Haier/海尔 烟灶套系 E900T6R(T)+QE5B1/欧式/顶吸/4.1KW大火力/天然气',
			'img':'http://cdn50.ehaier.com/other/php/image/2019/09/a6d259c1f576492827d49c494c485831.jpg@380_380',
			'jia':2299
		},
		4:{
			'title':'Haier/海尔 4K电视 LS50A51  50英寸超高清网络智能电视机',
			'img':'http://cdn02.ehaier.com/product/59cc9048d9a353f27d8b4712_380_380.jpg',
			'jia':2299
		},
		5:{
			'title':'Haier/海尔 滚筒洗衣机 EG8012B919GU1 8公斤iMate8智能变频滚筒洗衣机',
			'img':'http://cdn02.ehaier.com/product/59b0ab311671c46c058b462c_380_380.jpg',
			'jia':2199
		},
		6:{
			'title':'Haier/海尔 电热水器 EC6002-MC3 60升储水式恒温家用电热水器',
			'img':'http://cdn02.ehaier.com/product/57d8c75e1671c435468b48be_380_380.jpg',
			'jia':1199
		}
	},
	'三口之家':{
		1:{
			'title':'Haier/海尔 烟灶套系 E900T6R(T)+QE9U1/欧式/顶吸/自清洗/防干烧4.5KW大火力/天然气',
			'img':'http://cdn02.ehaier.com/product/59e863b71a0a2ea9268b4775_380_380.jpg',
			'jia':3499
		},
		2:{
			'title':'Haier/海尔 电热水器 EC6003-YT1 60升即热恒温储水式家用电热水器',
			'img':'http://cdn02.ehaier.com/product/58ad2ca4d9a353084d8b48ae_380_380.jpg',
			'jia':1499
		},
		3:{
			'title':'Haier/海尔 无氟变频柜式空调 KFR-72LW/09UCP22AU1套机 3匹智能变频柜机/一键自清洁/星璨帝樽',
			'img':'http://cdn02.ehaier.com/product/56e77db11671c4bd448b4837_380_380.jpg',
			'jia':7099
		},
		4:{
			'title':'Haier/海尔 冰箱 BCD-470WDPG 470升十字对开变频静音节能干湿分储电冰箱',
			'img':'http://cdn50.ehaier.com/other/php/image/2019/04/614cdfbf6612f9dc8bde6dbae4070ae5.jpg@380_380',
			'jia':4499
		},
		5:{
			'title':'Haier/海尔 冰箱 BCD-217WDVLU1 217升三门双变频智能风冷节能小型家用电冰箱',
			'img':'http://cdn50.ehaier.com/other/php/image/2019/04/76e79fcc6f439749aad8580830536776.jpg@380_380',
			'jia':2499
		},
		6:{
			'title':'Haier/海尔 4K电视 LU55X52',
			'img':'http://cdn02.ehaier.com/product/5afaadab1671c440648b47ac_380_380.jpg',
			'jia':3799
		}
	},
	'四世同堂':{
		1:{
			'title':'Haier/海尔 冰箱 BCD-591WDVLU1',
			'img':'http://cdn50.ehaier.com/other/php/image/2019/04/72dd81816c7f1085680602bd452636dd.jpg@380_380',
			'jia':3999
		},
		2:{
			'title':'Haier/海尔 烟灶套系 E900T9W(T)+QE9U1/欧式/顶吸/自清洗/WiFi/延时/防干烧4.5KW大火力/天然气',
			'img':'http://cdn02.ehaier.com/product/59be333c983d79386f8b46d5_380_380.jpg',
			'jia':4599
		},
		3:{
			'title':'Haier/海尔 滚筒洗衣机 EG10014BD959WU1 10公斤直驱变频滚筒洗衣机',
			'img':'http://cdn02.ehaier.com/product/59cc76671671c41b1a8b46c5_380_380.jpg',
			'jia':4399
		},
		4:{
			'title':'Haier/海尔 燃气热水器 JSQ25-13WT5(12T) 13升防风恒温家用燃气热水器',
			'img':'http://cdn50.ehaier.com/other/php/image/2019/03/63a3bb803e8c644da157e604ecb5026a.jpg@380_380',
			'jia':2099
		},
		5:{
			'title':'Leader/统帅 柜式空调 KFR-72LW/09PAQ22ATU1套机 3匹智能变频空调/二级能效/智能物联',
			'img':'http://cdn50.ehaier.com/other/php/image/2019/04/88c6f506928c2c7330fafbb5609d3af7.jpg@380_380',
			'jia':6399
		},
		6:{
			'title':'Haier/海尔 冰箱 BCD-572WDENU1',
			'img':'http://cdn50.ehaier.com/other/php/image/2019/04/2bdd48e05ed66e2f0318b833b8f1d5e1.jpg@380_380',
			'jia':3399
		}
	}
}
/* 
 <div class="dizhi-add" style="display: none;">
 	<span>+</span>
 	<br />
 	<span>新增收货地址</span>
 </div>*/


//判断传入的的hash值是否+号 hash是否为空
function jiance(){
	//判断hash值有没有加号
	var params = location.hash.split('#',2)[1];
	var user=localStorage.getItem('userInformation');
	if(params != undefined ){
		if(params.indexOf('+' != -1)){
			//有加号；//判断有没有登录
			
			if(user !=null ){
				//已经登录了
				var tisdenglv=$('.tisdenglv');
				tisdenglv.css('display','none');
					var logoShangp=$('.logo-shangp div div');
					var logosSpan=$('.logo-shangp div span');
					logoShangp.eq(0).css('background','#a7b0b5')
					logoShangp.eq(1).css('background','#23519e')
					logosSpan.eq(0).css('background','url(http://cdn09.ehaier.com/sg2019/v5/images/pco/cartsp.png) no-repeat 0 -437px');
					logosSpan.eq(1).css('background','url(http://cdn09.ehaier.com/sg2019/v5/images/pco/cartsp.png) no-repeat 0 -368px');
					
					
					var gouwucheBottom=$('.gouwuche-bottom');
					var noGouwche=$('.no-gouwche');
					var Search=$('.Search');
					var navDao=$('.nav-dao');
					gouwucheBottom.css('display','none');
					noGouwche.css('display','none');
					Search.css('display','none');
					navDao.css('display','none');
					
					//logoShangp 是头部；我的购物车显示的盒子
					localStorage.removeItem('shangping');
					var spxq=$('.spxq');
					var qujieshuan=$('.qujieshuan');
					var logoShangp=$('.logo-shangp');
					logoShangp.css('display','block');
					spxq.css('display','none');
					qujieshuan.css('display','none');
					
					/* 这是核对订单信息显示的东西 */
					var heduixingxi=$('.heduixingxi');
					var dizhiAdd=$('.dizhi-add');
					dizhiAdd.css('display','none');
					heduixingxi.css('display','block');
					//跟换地址后显示
					var addDizhi=$('.add-dizhi');
					addDizhi.css('display','block');
					
					
					var addSpan=document.querySelectorAll('.add-dizhi span');
					addSpan[0].onclick=function(){
						
					}
					var stringS='';
					addSpan[1].innerHTML ='名字：' + localStorage.getItem('userInformation').split('分')[0];
					var dizhi=localStorage.getItem('dizhi').split(',');
					$.each(dizhi,function(i,el){
						 stringS += String.fromCharCode(parseInt(dizhi[i]));
					})
					addSpan[2].innerHTML="地址："+stringS;
					addSpan[3].innerHTML='名字：'+ localStorage.getItem('userInformation').split('分')[0];
					
					
					
					if(params.indexOf(',')!=-1){
						//有逗号
						var paramsZong=params.split('+');
						var topR=$('.top-rigr .right span:nth-of-type(2)');
						var trrata=[];
						topR.html('￥'+paramsZong[0])
						$.each(dxdx,function(key,val){
							trrata.push(key);
						})
						var centMouve=$('.cent-mouve')
						var douhao=paramsZong[1].split(',');
						console.log(douhao);
						for(var i=0;i<douhao.length-1;i++){
							var div = $('<div>');
							console.log()
							// console.log(dxdx[trrata[douhao[douhao.length-1]]][douhao[i]])
							div.html(
							`
							<div>
								<img src="${dxdx[trrata[douhao[douhao.length-1]]][parseInt(douhao[i])+1].img}" >
								<p>${dxdx[trrata[douhao[douhao.length-1]]][parseInt(douhao[i])+1].title}</p>
							</div>
							<div>
								${dxdx[trrata[douhao[douhao.length-1]]][parseInt(douhao[i])+1].jia}
							</div>
							<div>
								<span>点击绑定礼品卡</span>
							</div>
							<div>
								￥0
							</div>
							<div>
								1
							</div>
							<div class="xiaojijiage">
								
							</div>
							
							`)
							centMouve.append(div);
							
							
							// console.log( dxdx[trrata[douhao[douhao.length-1]]][douhao[i]])
						}
						
					}else{
						//没有逗号
						var arrr=[],atra=[];
						var caid = params.split('+');
						 console.log(caid);
						$.each(ddaattee,function(key,vla){
							arrr.push(key);
						})
						$.each(ddaattee[arrr[caid[0]]],function(key,el){
							atra.push(key);
						})
						var centMouve=$('.cent-mouve');
						var div = $('<div>');
						div.html(
						`
						<div>
							<img src="${ddaattee[arrr[caid[0]]][atra[caid[1]]][parseInt(caid[2])+1].img}" >
							<p>${ddaattee[arrr[caid[0]]][atra[caid[1]]][parseInt(caid[2])+1].title}</p>
						</div>
						<div>
							${ddaattee[arrr[caid[0]]][atra[caid[1]]][parseInt(caid[2])+1].jiage}
						</div>
						<div>
							<span>点击绑定礼品卡</span>
						</div>
						<div>
							￥0
						</div>
						<div>
							${caid[3]}
						</div>
						<div class="xiaojijiage">
							
						</div>
						
						`)
						centMouve.append(div);
						// console.log(ddaattee[arrr[caid[0]]][atra[caid[1]]][parseInt(caid[2])+1].img)
						var zongjia=$('.top-rigr .right span:nth-of-type(2)');
						zongjia.html('￥'+parseInt(ddaattee[arrr[caid[0]]][atra[caid[1]]][parseInt(caid[2])+1].jiage)*caid[3]);
						var topXia=$('.top-xia a');
						var siji=$('.siji');
						console.log(siji)
						topXia.bind('mouseenter',function(){
							siji.css('display','block');
						})
						topXia.bind('mouseleave',function(){
							siji.css('display','none');
						})
						siji.bind('mouseenter',function(){
							siji.css('display','block');
						})
						siji.bind('mouseleave',function(){
							siji.css('display','none');
						})
						
					}
				
			}else{
				//没有登录
			}
			
		}else{
			//没有加号：
		}
	}else{
		var tisdenglv=$('.tisdenglv');
		if(user !=null){
			//已经登录了
			
			tisdenglv.css('display','none');
		}else{
			tisdenglv.css('display','block');
		}
		//逗号进行拆分
		var foodsx=localStorage.getItem('shangping')
		//判断是否有商品
		if(foodsx != undefined){
			var foods=localStorage.getItem('shangping').split(',');
			// var hash=params.split('+');
			//获取上面和下面两个全选按钮；
			var spxq=$('.spxq input');
			var qujieshuan=$('.qujieshuan input');
			//获取中间的div进行渲染
			var zongshang=$('.zongshang');
			var at=[],ar=[];
			$.each(ddaattee,function(key,val){
				at.push(key);
			})
			//渲染
			$.each(foods,function(i,el){
				if(foods[i] !=""){
					var a = foods[i].split('+');
					ar=[];
					$.each(ddaattee[at[a[0]]],function(key,val){
						ar.push(key);
					})
					//创建div
					var div=$('<div>');
					div.html(`
					<input type="checkbox" name="" id="" value="" class="xuanzhe-kuang"/>
					<img src="${ddaattee[at[a[0]]][ar[a[1]]][parseInt(a[2])+1].img}" >
					<a>${ddaattee[at[a[0]]][ar[a[1]]][parseInt(a[2])+1].title}</a>
					<p>不支持</p>
					<p class="danjia-d">￥${ddaattee[at[a[0]]][ar[a[1]]][parseInt(a[2])+1].jiage}</p>
					<div>
						<span>-</span>
						<input type="text" name="" id="" value="${a[4]}" class="shuliang-s" />
						<span>+</span>
						<div>有货</div>
					</div>
					<p>￥0</p>
					<p class="xiaojijia">￥${ddaattee[at[a[0]]][ar[a[1]]][parseInt(a[2])+1].jiage*a[4]}</p>
					<p class="delite">删除</p>
					`)
					 zongshang.append(div);
				}
			})
			//渲染完成后获取
			var inputs=$('.xuanzhe-kuang');
			var blor=false;
			var right=$('.qujieshuan .rigth span');
			var shuliangS=$('.shuliang-s');
			var xiaojijia=$('.xiaojijia');
			var danjiaD=$('.danjia-d');
			spxq.attr('checked',true);
			qujieshuan.attr('checked',true);
			$.each(inputs,function(i,el){
				if(inputs[i].checked == false){
					blor=false;
					return;
				}else{
					blor=true;
				}
				
			})
			if(!blor){
				spxq.attr('checked',true);
				qujieshuan.attr('checked',true);
			}else{
				spxq.attr('checked',false);
				qujieshuan.attr('checked',false);
			}
			$.each(inputs,function(j,el){
				$(inputs[j]).bind('input',function(){
					$.each(inputs,function(i,el){
						if(inputs[i].checked == false){
							blor=false;
							return;
						}else{
							blor=true;
						}
					})
					if(blor){
						spxq.attr('checked',true);
						qujieshuan.attr('checked',true);
					}else{
						spxq.attr('checked',false);
						qujieshuan.attr('checked',false);
					}
					
				})	
			})
			spxq.bind('click',function(){
				if(this.checked==false){
					$.each(inputs,function(i,el){
						$(inputs[i]).attr('checked',false);
					})
					qujieshuan.attr('checked',false);
					right.eq(0).html(0);
					right.eq(1).html(0);
				}else{
					$.each(inputs,function(i,el){
						$(inputs[i]).attr('checked',true);
					})
					qujieshuan.attr('checked',true);
					var aa=0;
					var bb=0;
					$.each(shuliangS,function(k,le){
						aa += parseInt($(xiaojijia[k]).html().replace(/[^0-9]/ig,""));
						bb += parseInt($(shuliangS[k]).val());
					})
					right.eq(0).html(bb);
					right.eq(1).html(aa);
				}
			})
			qujieshuan.bind('click',function(){
				if(this.checked==false){
					$.each(inputs,function(i,el){
						$(inputs[i]).attr('checked',false);
					})
					spxq.attr('checked',false);
					right.eq(0).html(0);
					right.eq(1).html(0);
				}else{
					$.each(inputs,function(i,el){
						$(inputs[i]).attr('checked',true);
					})
					spxq.attr('checked',true);
					var aa=0;
					var bb=0;
					$.each(shuliangS,function(k,le){
						aa += parseInt($(xiaojijia[k]).html().replace(/[^0-9]/ig,""));
						bb += parseInt($(shuliangS[k]).val());
					})
					right.eq(0).html(bb);
					right.eq(1).html(aa);
				}
				
			})
			//进行加加减减
			$.each(shuliangS,function(i,el){
				if(parseInt($(shuliangS[i]).val()) != 0){
					inputs.eq(i).attr('checked',true);
					
				}
				var num= danjiaD.eq(i).html().replace(/[^0-9]/ig,"");
				var nmu=0;
				var mun=0;
				// $(shuliangS[i]).val($(shuliangS[i]).val()-1);
				// xiaojijia.eq(i).html('￥'+$(shuliangS[i]).val()*parseInt(num));
				
				$.each(shuliangS,function(k,le){
					mun += parseInt($(xiaojijia[k]).html().replace(/[^0-9]/ig,""));
					nmu += parseInt($(shuliangS[k]).val());
				})
				right.eq(0).html(nmu);
				right.eq(1).html(mun);
			})
			$.each(shuliangS,function(i,el){
				//oninput事件
				$(shuliangS[i]).bind('input',function(){
					if( $(this).val() == 0){
						inputs.eq(i).attr('checked',false);
						spxq.attr('checked',false);
						qujieshuan.attr('checked',false);
						var msg = "您确定要删除商品嘛？";
						if (confirm(msg)==true){
							return true;  //你也可以在这里做其他的操作
						}else{
							return false;
						}
					}else{
						if(/^[1-9]\d*$/.test($(this).val())){
							
						}else{
							alert('请输入正整数')
							$(this).val(1);
							history.go(0);
						}
					}
				})
				//点击事件
				$(shuliangS[i]).prev().bind('click',function(){
					
					if($(shuliangS[i]).val()==1){
						inputs.eq(i).attr('checked',false);
						spxq.attr('checked',false);
						qujieshuan.attr('checked',false);
						var msg = "您确定要删除商品嘛？";
						if (confirm(msg)==true){
							var foods=localStorage.getItem('shangping').split(',');
							foods.splice(i,1);
							var strin='';
							localStorage.setItem('shangping',foods);
							history.go(0);
							return true;  //你也可以在这里做其他的操作
						}else{
							return false;
						}
					}
					if($(shuliangS[i]).val()>=1){
						var num= danjiaD.eq(i).html().replace(/[^0-9]/ig,"");
						var nmu=0;
						var mun=0;
						$(shuliangS[i]).val($(shuliangS[i]).val()-1);
						xiaojijia.eq(i).html('￥'+$(shuliangS[i]).val()*parseInt(num));
						$.each(shuliangS,function(k,le){
							mun += parseInt($(xiaojijia[k]).html().replace(/[^0-9]/ig,""));
							nmu += parseInt($(shuliangS[k]).val());
						})
						right.eq(0).html(nmu);
						right.eq(1).html(mun);
					}
				})
				$(shuliangS[i]).next().bind('click',function(){
					if($(shuliangS[i]).val()>=0){
						inputs.eq(i).attr('checked',true);
						spxq.attr('checked',true);
						qujieshuan.attr('checked',true);
					}
					$(shuliangS[i]).val(parseInt($(shuliangS[i]).val())+1);
					var num= danjiaD.eq(i).html().replace(/[^0-9]/ig,"");
					var nmu=0;
					var mun=0;
					xiaojijia.eq(i).html('￥'+$(shuliangS[i]).val()*parseInt(num));
					$.each(shuliangS,function(k,le){
						mun += parseInt($(xiaojijia[k]).html().replace(/[^0-9]/ig,""));
						nmu += parseInt($(shuliangS[k]).val());
					})
					right.eq(0).html(nmu);
					right.eq(1).html(mun);
				})
			})
		}else{
			
			zuij();
		}
		
		
		var zongshang=$('.zongshang div');
		if(zongshang.length==0){
			var logoShangp=$('.logo-shangp div div');
			var logosSpan=$('.logo-shangp div span');
			/* 这是当没有商品显示的东西 */
			var noGouwche=$('.no-gouwche');
			var Search=$('.Search');
			var navDao=$('.nav-dao');
			var gouwucheBottom=$('.gouwuche-bottom');
			gouwucheBottom.css('display','block');
			noGouwche.css('display','block');
			Search.css('display','block');
			navDao.css('display','block');
			
			//logoShangp 是头部；我的购物车显示的盒子
			localStorage.removeItem('shangping');
			var spxq=$('.spxq');
			var qujieshuan=$('.qujieshuan');
			var logoShangp=$('.logo-shangp');
			logoShangp.css('display','none');
			spxq.css('display','none');
			qujieshuan.css('display','none');
			
			/* 这是核对订单信息显示的东西 */
			var heduixingxi=$('.heduixingxi');
			var dizhiAdd=$('.dizhi-add');
			dizhiAdd.css('display','none');
			heduixingxi.css('display','none');
			localStorage.removeItem('shangping');
			zuij();
		}
		
	}
	//点击删除进行删除
	var delite=$('.delite');
	$.each(delite,function(i,el){
		$(delite[i]).bind('click',function(){
			var foods=localStorage.getItem('shangping').split(',');
			foods.splice(i,1);
			var strin='';
			localStorage.setItem('shangping',foods);
			history.go(0);
		})
	})
	
	//点击立即结算
	var qujieshuanX=$('.qujieshuan');
	
	qujieshuanX.bind('click',function(ev){
		var arrtr=[],attrt=[],arrt=[],ttra=[],trar=[];
		
		if(ev.target.nodeName=='A'){
			var logoShangp=$('.logo-shangp div div');
			var logosSpan=$('.logo-shangp div span');
			logoShangp.eq(0).css('background','#a7b0b5')
			logoShangp.eq(1).css('background','#23519e')
			logosSpan.eq(0).css('background','url(http://cdn09.ehaier.com/sg2019/v5/images/pco/cartsp.png) no-repeat 0 -437px');
			logosSpan.eq(1).css('background','url(http://cdn09.ehaier.com/sg2019/v5/images/pco/cartsp.png) no-repeat 0 -368px');
			//如果是a标签被点击了 获取打勾的
			var inputs=$('.xuanzhe-kuang');
			$.each(inputs,function(i,el){
				console.log(inputs[i].checked)
				if(inputs[i].checked == true){
					arrtr.push($(inputs[i]).next().attr('src'));
					attrt.push($(inputs[i]).next().next().html());
					arrt.push($(inputs[i]).next().next().next().next().html());
					ttra.push($(inputs[i]).next().next().next().next().next().children('input').val());
					trar.push($(inputs[i]).next().next().next().next().next().next().next().html());
				}else{
					
				}
			})
			console.log(arrtr)
			
			/* 这是当没有商品显示的东西 */
			var noGouwche=$('.no-gouwche');
			var Search=$('.Search');
			var navDao=$('.nav-dao');
			noGouwche.css('display','none');
			Search.css('display','none');
			navDao.css('display','none');
			
			//logoShangp 是头部；我的购物车显示的盒子
			localStorage.removeItem('shangping');
			var spxq=$('.spxq');
			var qujieshuan=$('.qujieshuan');
			var logoShangp=$('.logo-shangp');
			logoShangp.css('display','block');
			spxq.css('display','none');
			qujieshuan.css('display','none');
			
			/* 这是核对订单信息显示的东西 */
			var heduixingxi=$('.heduixingxi');
			var dizhiAdd=$('.dizhi-add');
			dizhiAdd.css('display','block');
			heduixingxi.css('display','block');
			//跟换地址后显示
			var addDizhi=$('.add-dizhi');
			addDizhi.css('display','block');
			var addSpan=document.querySelectorAll('.add-dizhi span');
			addSpan[0].onclick=function(){
				
			}
			var stringS='';
			addSpan[1].innerHTML ='名字：' + localStorage.getItem('userInformation').split('分')[0];
			var dizhi=localStorage.getItem('dizhi').split(',');
			$.each(dizhi,function(i,el){
				 stringS += String.fromCharCode(parseInt(dizhi[i]));
			})
			
			addSpan[2].innerHTML="地址："+stringS;
			addSpan[3].innerHTML='名字：'+ localStorage.getItem('userInformation').split('分')[0];
			
			
			//渲染
			var centMouve=$('.cent-mouve');
			$.each(arrtr,function(i,el){
				var div = $('<div>');
				div.html(
				`
				<div>
					<img src="${arrtr[i]}" >
					<p>${attrt[i]}</p>
				</div>
				<div>
					${arrt[i]}
				</div>
				<div>
					<span>点击绑定礼品卡</span>
				</div>
				<div>
					￥0
				</div>
				<div>
					${ttra[i]}
				</div>
				<div class="xiaojijiage">
					${trar[i]}
				</div>
				
				`)
				centMouve.append(div);
			})
			//渲染完毕后获取价格
			var num =0;
			var xiaoji=$('.xiaojijiage');
			var topRgr=$('.top-rigr .right span:nth-of-type(2)');
			$.each(xiaoji,function(i,el){
				
				num += parseInt($(xiaoji[i]).html().replace(/[^0-9]/ig,""));
			})
			console.log(topRgr);
			topRgr.html('¥'+num);
			
			var topXia=$('.top-xia a');
			var siji=$('.siji');
			topXia.bind('mouseenter',function(){
				siji.css('display','block');
			})
			topXia.bind('mouseleave',function(){
				siji.css('display','none');
			})
			siji.bind('mouseenter',function(){
				siji.css('display','block');
			})
			siji.bind('mouseleave',function(){
				siji.css('display','none');
			})
			
			var toprgrA=$('.top-rigr right a');
			toprgrA.bind('click',function(){
				
				
			})
		}
		
	})
	
	
}
jiance();

function zuij(){
	var gouwucheBottom=$('.gouwuche-bottom');
	var noGouwche=$('.no-gouwche');
	var Search=$('.Search');
	var navDao=$('.nav-dao');
	gouwucheBottom.css('display','block');
	noGouwche.css('display','block');
	Search.css('display','block');
	navDao.css('display','block');
	
	//logoShangp 是头部；我的购物车显示的盒子
	localStorage.removeItem('shangping');
	var spxq=$('.spxq');
	var qujieshuan=$('.qujieshuan');
	var logoShangp=$('.logo-shangp');
	logoShangp.css('display','none');
	spxq.css('display','none');
	qujieshuan.css('display','none');
	
	/* 这是核对订单信息显示的东西 */
	var heduixingxi=$('.heduixingxi');
	var dizhiAdd=$('.dizhi-add');
	dizhiAdd.css('display','none');
	heduixingxi.css('display','none');
	//跟换地址后显示
	var addDizhi=$('.add-dizhi');
	addDizhi.css('display','none');
	var tuijinashangp=$('.tuijinashangp ul ');
	var shj=localStorage.getItem('shuju').split('X');
	$.each(shj,function(i,el){
		var a = shj[i].split('+');
		var at=[],ar=[];
		$.each(ddaattee,function(key,val){
			at.push(key);
		})
		$.each(ddaattee[at[shj[i][0]]],function(key,val){
			ar.push(key);
		})
		var li=$('<li>');
		li.html(`
			<a href="">
				<img src="${ddaattee[at[a[0]]][ar[a[1]]][a[2]].img}" >
			</a>
			<span>${ddaattee[at[a[0]]][ar[a[1]]][a[2]].title}</span>
			<p>${ddaattee[at[a[0]]][ar[a[1]]][a[2]].jiage}</p>
		`)
		var lis=$('.tuijinashangp ul li');
		if(lis.length>3){
			
		}else{
			tuijinashangp.append(li);
		}
	})
	
}


/* 四级联动 */
function siji(){
	
	/* 
	 上面是操作元素部分
	 
	 */
	
	var sisji=document.querySelector('.siji')
	var arr=[];
	var uls=document.querySelectorAll('.siji-liandong ul');
	//循环第一个
	for(var dd in ChineseDistrictsX['86']){
		for(var cc in ChineseDistrictsX['86'][dd]){
			var li=document.createElement('li');
			li.setAttribute('code',ChineseDistrictsX['86'][dd][cc].code)
			li.innerHTML = ChineseDistrictsX['86'][dd][cc].address;
			uls[0].appendChild(li);
		}
	}
	//给uls添加点击实事件
	for(var i= 0 ;i<uls.length;i++){
		uls[i].index=i;
		uls[i].addEventListener('click',function(ev){
			var num =this.index;
			var ev = ev||window.ev;
			if(ev.target.nodeName=='LI'){
				ev.target.style.background='blue';
				ev.target.style.color='#fff';
				 var a = [];
				 var p = ev.target.parentNode.children;
				 for(var i =0,pl= p.length;i<pl;i++) {
					 //除开自己以外的兄弟
					  if(p[i] !== ev.target){
						  p[i].style.background='#FFFFFF';
						  p[i].style.color='#000000';
						  a.push(p[i]);
					  } 
				 }
				 //第二层  1  72  2799
				 //判断是否清空
				 var two=ev.target.getAttribute('code');
				 arr[this.index] = ev.target.innerHTML;
				 if(uls[num+1] !=undefined){
					 uls[num+1].innerHTML='';
				 }
				 
				 
				 if(ChineseDistrictsX[two] != undefined){
					 for(var t in ChineseDistrictsX[two]){
						 var li=document.createElement('li');
						 li.setAttribute('code',t);
						 li.innerHTML = ChineseDistrictsX[two][t];
						 uls[num+1].appendChild(li);
					 }
				 }else{
					 //开始操作元素
					console.log(1);
					var shuz=[];
					console.log(arr);
					var addSpan=document.querySelectorAll('.add-dizhi span');
					addSpan[2].innerHTML='地址：'+arr;
					// var tinaji=$('.add-dizhi')
					// tinaji.css('display','block');
					// 	shuz[i]=yonghuDiqu.innerHTML[i].charCodeAt();
					
					 localStorage.setItem('dizhi',shuz);
					 sisji.style.display='none';
				 }
				 
				 
				 
			}
		})
	}
	
}
siji();

//跳转最后的页面
var tiao=$('.top-rigr .right a');
var dajk='';
tiao.bind('click',function(){
	var noGouwche=$('.no-gouwche');
	var Search=$('.Search');
	var navDao=$('.nav-dao');
	noGouwche.css('display','none');
	Search.css('display','none');
	navDao.css('display','none');
	//logoShangp 是头部；我的购物车显示的盒子
	localStorage.removeItem('shangping');
	var spxq=$('.spxq');
	var qujieshuan=$('.qujieshuan');
	var logoShangp=$('.logo-shangp');
	logoShangp.css('display','block');
	spxq.css('display','none');
	qujieshuan.css('display','none');
	
	/* 这是核对订单信息显示的东西 */
	var heduixingxi=$('.heduixingxi');
	var dizhiAdd=$('.dizhi-add');
	dizhiAdd.css('display','none');
	heduixingxi.css('display','none');
	//跟换地址后显示
	var addDizhi=$('.add-dizhi');
	addDizhi.css('display','none');
	dajk = $(this).prev().html();
	var tijchengg=$('.tijchengg');
	tijchengg.css('display','block');
	$('bt-ts').css('display','block');
	$('.zfbs').css('display','block');
	$('.erweima').css('display','block');
	var lisa = $('.zfbs li');
	var erweima=$('.erweima div');
	var jiags=$('#jiags span');
	jiags.eq(0).html(dajk);
	jiags.eq(1).html(dajk);
	$.each(lisa,function(i,el){
		$(lisa[i]).bind('click',function(){
			$(erweima[i]).css('display','block');
			$(erweima[i]).siblings().css('display','none');
		})
	})
	
	var logoShangpx=$('.logo-shangp div div');
	var logosSpanx=$('.logo-shangp div span');
	logoShangpx.eq(0).css('background','#a7b0b5')
	logoShangpx.eq(1).css('background','#a7b0b5')
	
	logosSpanx.eq(0).css('background','url(http://cdn09.ehaier.com/sg2019/v5/images/pco/cartsp.png) no-repeat 0 -403px');
	logosSpanx.eq(1).css('background','url(http://cdn09.ehaier.com/sg2019/v5/images/pco/cartsp.png) no-repeat 0 -437px');
	logoShangpx.eq(2).css('background','#23519e')
})
